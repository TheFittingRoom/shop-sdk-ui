<html lang="en">
  <head>
    <title>TheFittingRoom</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&family=Roboto&display=swap"
      rel="stylesheet"
    />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
    </style>

    <script type="module">
      import { mountFittingRoomApp } from 'http://localhost:3030/dist/esm/index.js'

      // globalThis.__DEBUG_HOOKS__ = true

      window.addEventListener('DOMContentLoaded', async () => {
        try {
          const config = {
            shopId: 1,
            containers: {
              modalId: 'tfr-modal',
              sizeRecId: 'tfr-size-rec',
              vtoId: 'tfr-vto',
            },
            theme: {
              fontFamily: 'Poppins, sans-serif',
            },
            env: 'dev',
          }

          const fittingRoomHandle = await mountFittingRoomApp(config)
          console.log('FittingRoom app mounted successfully')

          window.fittingRoom = fittingRoomHandle
          fittingRoomHandle.setSku('5003-007-00')
        } catch (error) {
          console.error('Failed to mount FittingRoom app:', error)
        }
      })
    </script>
  </head>

  <body>
    <div class="container">
      <h1>FittingRoom SDK UI Test Page</h1>

      <div id="tfr-size-rec" style="margin: 20px 0; padding: 20px; border: 1px solid #ddd"></div>

      <div id="tfr-vto" style="margin: 20px 0; padding: 20px; border: 1px solid #ddd"></div>

      <div style="margin: 20px 0">
        <img id="tfr-tryon-image" src="" style="max-width: 400px; height: auto; border: 1px solid #ccc" />
      </div>
    </div>
  </body>
</html>
